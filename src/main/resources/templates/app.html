<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no" name="viewport">
    <title>Create CV</title>
    <!-- Favicons -->
    <!-- <link th:href="@{(${baseUrl}+'/assets/img/favicon.png')}" rel="icon"> -->

    <!-- General CSS Files -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/css/iziToast.css"
        integrity="sha512-DIW4FkYTOxjCqRt7oS9BFO+nVOwDL4bzukDyDtMO7crjUZhwpyrWBFroq+IqRe6VnJkTpRAS6nhDvf0w+wHmxg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
    <link href="https://repo.rachmat.id/jquery-ui-1.12.1/jquery-ui.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intro.js@4.3.0/minified/introjs.min.css">
    <!-- Template CSS -->
    <link rel="stylesheet" th:href="@{/css/assets/css/style.css}">
    <link rel="stylesheet" th:href="@{/css/assets/css/custom.css}">
    <link rel="stylesheet" th:href="@{/css/assets/croppie/croppie.css}">

</head>

<div id="preloader">
    <div class="loader">
        <div class="loader--dot"></div>
        <div class="loader--dot"></div>
        <div class="loader--dot"></div>
        <div class="loader--dot"></div>
        <div class="loader--dot"></div>
        <div class="loader--dot"></div>
        <div class="loader--text"></div>
    </div>
</div>

<body id="body">
    <p>User ID: <span th:text="${talentId}"></span></p>
    <input type="hidden" id="talentId" th:value="${talentId}">
    <div class="top"></div>
    <section class="section">
        <div class="section-body">
            <div class="row no-gutters">
                <div class="col-12 col-md-12 col-lg-12">
                    <div id="cv-editor" class="card scrollit shadow shadow-sm"
                        style="margin: 0; width: 100%; padding: 2%;">
                        <form id="form" class="needs-validation" novalidate="">
                            <div class="card-body border" id="personalSection">
                                <h2 class="section-title">Data Pribadi <b class="text-danger">*</b></h2>
                                <p class="mb-4">
                                    <i class="text-muted">
                                        Note: Please type it in English and complete according to your current data
                                    </i>
                                </p>
                                <div class="row flex-column-reverse flex-lg-row">
                                    <div class="form-group col-md-6 col-12" id="fullName">
                                        <label>Nama Lengkap</label>
                                        <input autocomplete="off" id="inputFullName" type="text"
                                            class="form-control required" style="text-transform:uppercase" oninput="
                                                   if($(this).val() === ''){
                                                   $('#frame').contents().find('#txtFullName').text('FULL NAME').fadeTo(100, 0.3, function() {
                                                   $(this).fadeTo(100, 1.0); })
                                                   $('#txtFullName').text('FULL NAME').fadeTo(100, 0.3, function() {
                                                   $(this).fadeTo(100, 1.0); })
                                                   } else {
                                                   $('#frame').contents().find('#txtFullName').text($(this).val().toUpperCase()).fadeTo(100, 0.3, function() {
                                                   $(this).fadeTo(100, 1.0); })
                                                   $('#txtFullName').text($(this).val().toUpperCase()).fadeTo(100, 0.3, function() {
                                                   $(this).fadeTo(100, 1.0); })
                                                   }
                                                   autoSave()">
                                        <label class="mt-3">Nomor KTP</label>
                                        <input autocomplete="off" id="inputKtp" type="text"
                                            class="form-control required" style="text-transform:uppercase"
                                            oninput="autoSave()">
                                    </div>
                                    <div class="form-group my-auto col-md-6 col-12 row align-items-center">
                                        <div class="col-md-3 col-6">
                                            <img id="profilePicturePreview" alt="image"
                                                th:src="@{(${baseUrl}+'/assets/img/no_image.jpg')}" width="60px"
                                                class="profile-widget-picture" onchange="validatePhotoRequire($(this))">
                                            <span class="fa fa-spinner fa-pulse fa-2x mt-4 ml-4 loadingImage"
                                                style="display: none;"></span>
                                            <input id="inputSrcProfilePicturePreview" type="hidden"
                                                th:value="${baseUrl}+'/assets/img/'">
                                        </div>
                                        <div class="col-md-5 col-6">
                                            <div class="row ml-0 mt-2">
                                                <!-- <div class="row ml-0"> -->
                                                    <a id="btnChangeProfilePicture" class="text-primary"
                                                    href="javascript:void(0)"
                                                    onclick="document.getElementById('inputProfilePicture').click();">
                                                    <i class="fa fa-edit"></i>
                                                    <b class="text-primary">&nbsp;Ubah Foto</b>
                                                </a>
                                                <input autocomplete="off" id="inputProfilePicture" type="file"
                                                    accept="image/*" style="display: none"
                                                    onchange="handleProfilePictureChange(event); validatePhotoRequire($(this));">
                                            </div>
                                            <!-- <div class="row mt-2 ml-0"> -->
                                            <div class="row mt-1 ml-0">
                                                <a class="text-muted delete" href="javascript:void(0)"
                                                    onclick="deletePhoto()">
                                                    <i class="fa fa-trash"></i>
                                                    <b class="text-muted delete">
                                                        &nbsp; Hapus Foto
                                                    </b>
                                                </a>
                                            </div>
                                            <div class="row mt-2 ml-2">
                                                <div id="invalidPhoto" class="text-danger" style="display: none">
                                                    <small>Foto harus di isi.</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-md-6 col-12">
                                        <label>Tanggal Lahir</label>
                                        <input autocomplete="off" id="inputBirthDate" type="date"
                                            class="form-control required" onchange="
                                                   if($(this).val() === ''){
                                                   $('#frame').contents().find('#txtDateOfBirth').text('______').fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                   $('#txtDateOfBirth').text('______').fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                   } else {
                                                   $('#frame').contents().find('#txtDateOfBirth').text(dateFormatBirthDate($(this).val())).fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                   $('#txtDateOfBirth').text(dateFormatBirthDate($(this).val())).fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                   } autoSave();">
                                    </div>
                                    <div class="form-group col-md-6 col-12">
                                        <label>Tempat Lahir</label><b class="text-danger"> *</b></h2>
                                        <input autocomplete="off" id="inputBirthPlace" type="text"
                                            class="form-control required" onkeyup="
                                                   if($(this).val() === ''){
                                                   $('#frame').contents().find('#txtBirthPlace').text('______').fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                   $('#txtBirthPlace').text('______').fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                   } else {
                                                   $('#frame').contents().find('#txtBirthPlace').text($(this).val()).fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                   $('#txtBirthPlace').text($(this).val()).fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                   } autoSave(); validateRequire($(this))">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-md-6 col-12">
                                        <label for="selectNationality">Kewarganegaraan</label> <b
                                            class="text-danger">*</b>

                                        <!-- Scrollable Dropdown Select -->
                                        <select id="selectNationality"                                                
                                                class="form-control required"
                                                required>
                                            <option value="" disabled selected>-- Pilih --</option>                                                
                                        </select>
                                    </div>

                                    <div class="form-group col-md-6 col-12">
                                        <label>Status<b class="text-danger"> *</b></label></h2>
                                        <select id="selectMarriageStatus" onchange="
                                                   if($(this).val() === ''){
                                                        $('#frame').contents().find('#txtMaritialStatus').text('______').fadeTo(100, 0.3, function() {
                                                        $(this).fadeTo(100, 1.0); })
                                                        $('#txtMaritialStatus').text('______').fadeTo(100, 0.3, function() {
                                                        $(this).fadeTo(100, 1.0); })
                                                    } else {
                                                        $('#frame').contents().find('#txtMaritialStatus').text($(this).val()).fadeTo(100, 0.3, function() {
                                                        $(this).fadeTo(100, 1.0); })
                                                        $('#txtMaritialStatus').text($(this).val()).fadeTo(100, 0.3, function() {
                                                        $(this).fadeTo(100, 1.0); })
                                                    } autoSave(); validateRequire($(this))" class="form-control required"
                                            required>
                                            <option value="" disabled selected>-- Pilih --</option>
                                            <option value="SINGLE">Single</option>
                                            <option value="MARRIED">Married</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-md-6 col-12">
                                        <label>Jenis Kelamin<b class="text-danger"> *</b></label></h2>
                                        <select id="selectGender" 
                                                onchange="
                                                   if($(this).val() === ''){
                                                        $('#frame').contents().find('#txtGender').text('______').fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                        $('#txtGender').text('______').fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                    } else {
                                                        $('#frame').contents().find('#txtGender').text($(this).val()).fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                        $('#txtGender').text($(this).val()).fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                    } autoSave(); validateRequire($(this))" 
                                                class="form-control required"
                                            required>
                                            <option value="" disabled selected>-- Pilih --</option>
                                            <option value="MALE">Male</option>
                                            <option value="FEMALE">Female</option>
                                        </select>
                                    </div>
                                    <div class="form-group col-md-6 col-12">
                                        <label>Agama<b class="text-danger"> *</b></label></h2>
                                        <select id="selectReligion" onchange="
                                                        if($(this).val() === ''){
                                                            $('#frame').contents().find('#txtReligion').text('______').fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                            $('#txtReligion').text('______').fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                        } else {
                                                            $('#frame').contents().find('#txtReligion').text($(this).find('option:selected').text()).fadeTo(100, 0.3, function() {
                                                                $(this).fadeTo(100, 1.0); })
                                                            $('#txtReligion').text($(this).find('option:selected').text()).fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                        } autoSave(); validateRequire($(this))" class="form-control required"
                                            required>
                                            <option value="" disabled selected>-- Pilih --</option>
                                            <option value="ISLAM">Islam</option>
                                            <option value="KRISTEN">Kristen</option>
                                            <option value="KATOLIK">Katolik</option>
                                            <option value="HINDU">Hindu</option>
                                            <option value="BUDDHA">Buddha</option>
                                            <option value="KONGHUCU">Konghucu</option>
                                            <option value="YAHUDI">Yahudi</option>
                                            <option value="ATHEIS">Atheis</option>
                                            <option value="AGNOSTIC">Agnostic</option>
                                            <option value="OTHER">Other</option>
                                            <option th:each="religionItem : ${religions}" th:value="${religionItem.id}"
                                                th:text="${religionItem.name}"></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-md-6 col-6">
                                        <label>No Telepon</label>
                                        <input autocomplete="autocomplete_off_cv_phone" id="inputPhone" type="number"
                                            class="form-control required" oninput="
                                               if($(this).val() === ''){
                                               $('#frame').contents().find('#txtPhone').text('______').fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                               $('#txtPhone').text('______').fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                               } else {
                                               $('#frame').contents().find('#txtPhone').text($(this).val()).fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                               $('#txtPhone').text($(this).val()).fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                               } autoSave(); validateRequire($(this))">
                                    </div>
                                    <div class="form-group col-md-6 col-6">
                                        <label>E-mail</label>
                                        <input autocomplete="off" id="inputEmail" type="text"
                                            class="form-control required" oninput="
                                                           if($(this).val() === ''){
                                                           $('#frame').contents().find('#txtEmail').text('______').fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                           $('#txtEmail').text('______').fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                           } else {
                                                           $('#frame').contents().find('#txtEmail').text($(this).val()).fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                           $('#txtEmail').text($(this).val()).fadeTo(100, 0.3, function() { $(this).fadeTo(100, 1.0); })
                                                           } autoSave();">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-md-12 col-12">
                                        <label>Alamat</label>
                                        <div class="row">
                                            <div class="form-group col-md-6 col-6">
                                                <!-- <input id="inputProvince" type="text" class="form-control required"
                                                    placeholder="Provinsi"
                                                    onkeyup="setAddress(); autoSave(); validateRequire($(this));"> -->
                                                <select id="selectProvinsi"                                                
                                                        class="form-control required"
                                                        required>
                                                    <option value="" disabled selected>-- Pilih --</option>
                                                </select>
                                            </div>
                                            <div class="form-group col-md-6 col-6">
                                                <!-- <input autocomplete="autocomplete_off_cv_city" id="inputCity"
                                                    type="text" class="form-control required" placeholder="Kota"
                                                    onkeyup="setAddress(); autoSave(); validateRequire($(this));"> -->
                                                <select id="selectKota"                                                
                                                        class="form-control required"
                                                        required>
                                                    <option value="" disabled selected>-- Pilih --</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row mt-2">
                                            <div class="form-group col-md-12 col-12">
                                                <textarea autocomplete="autocomplete_off_cv_address" id="inputAddress"
                                                    type="text" class="form-control required" spellcheck="true" value=""
                                                    style="height: 80px;" placeholder="Alamat Lengkap"
                                                    oninput="setAddress(); autoSave(); validateRequire($(this));"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body border">
                                <h2 class="section-title">Kemampuan Bahasa <b class="text-danger">*</b></h2>
                                <p class="mb-2">
                                    <i class="text-muted">
                                        Note: Please type it in English and complete according to your current data
                                    </i>
                                </p>
                                <div id="sectionLanguage" class="row mb-3 form-group" style="margin-left: 1px;">
                                </div>
                                <div class="row mt-2">
                                    <div class="form-group col-md-12 col-12">
                                        <a id="btnAddSectionLanguage" href="autoSave()"
                                            class="btn btn-outline-primary p-2">
                                            <span class="fa fa-plus"> Tambah Data</span>
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <div class="card-body border">
                                <h2 class="section-title">Pendidikan <b class="text-danger">*</b></h2>
                                <p class="mb-4">
                                    <i class="text-muted">
                                        Note: Please type it in English and complete according to your current data
                                    </i>
                                </p>
                                <div id="sectionEducation" class="row mb-3 form-group" style="margin-left: 1px;">
                                </div>
                                <div class="row mt-3">
                                    <div class="form-group col-md-12 col-12">
                                        <a id="btnAddSectionEducation" class="btn btn-outline-primary p-2"
                                            href="autoSave()">
                                            <span class="fa fa-plus"> Tambah Data</span>
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <div class="card-body border">
                                <h2 class="section-title">Keterampilan <b class="text-danger">*</b></h2>
                                <p class="mb-4">
                                    <i class="text-muted">
                                        Note: Please type it in English and complete according to your current data
                                    </i>
                                </p>
                                <div id="sectionSkill" class="row mb-3 form-group" style="margin-left: 1px;">
                                </div>
                                <div class="row mt-2">
                                    <div class="form-group col-md-12 col-12">
                                        <a id="btnAddSectionSkill" class="btn btn-outline-primary p-2"
                                            href="autoSave()">
                                            <span class="fa fa-plus"> Tambah Data</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body border">
                                <h2 class="section-title">Riwayat Pekerjaan</h2>
                                <p class="mb-4">
                                    <i class="text-muted">
                                        Note: Please type it in English and complete according to your current data
                                    </i>
                                </p>
                                <div id="sectionWork" class="row mb-3 form-group" style="margin-left: 1px;">
                                </div>
                                <div class="row">
                                    <div class="form-group col-md-12 col-12">
                                        <a id="btnAddSectionWork" class="btn btn-outline-primary p-2" href="autoSave()">
                                            <span class="fa fa-plus"> Tambah Data</span>
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <div class="card-body border">
                                <h2 class="section-title">Project</h2>
                                <p class="mb-4">
                                    <i class="text-muted">
                                        Note: Please type it in English and complete according to your current data
                                    </i>
                                </p>
                                <div id="sectionProject" class="row mb-3 form-group" style="margin-left: 1px;">
                                </div>
                                <div class="row mt-3">
                                    <div class="form-group col-md-12 col-12">
                                        <a id="btnAddSectionProject" class="btn btn-outline-primary p-2"
                                            href="autoSave()">
                                            <span class="fa fa-plus"> Tambah Data</span>
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <div class="card-body border">
                                <h2 class="section-title">Pelatihan</h2>
                                <p class="mb-4">
                                    <i class="text-muted">
                                        Note: Please type it in English and complete according to your current data
                                    </i>
                                </p>
                                <div id="sectionTraining" class="row mb-3 form-group" style="margin-left: 1px;">
                                </div>
                                <div class="row mt-3">
                                    <div class="form-group col-md-12 col-12">
                                        <a id="btnAddSectionTraining" class="btn btn-outline-primary p-2"
                                            href="autoSave()">
                                            <span class="fa fa-plus"> Tambah Data</span>
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <div class="card-body border">
                                <h2 class="section-title">Sertifikasi</h2>
                                <p class="mb-4">
                                    <i class="text-muted">
                                        Note: Please type it in English and complete according to your current data
                                    </i>
                                </p>
                                <div id="sectionCertification" class="row mb-3 form-group" style="margin-left: 1px;">
                                </div>
                                <div class="row mt-3">
                                    <div class="form-group col-md-12 col-12">
                                        <a id="btnAddSectionCertification" class="btn btn-outline-primary p-2"
                                            href="autoSave()">
                                            <span class="fa fa-plus"> Tambah Data</span>
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <div class="card-body border">
                                <h2 class="section-title">Organisasi</h2>
                                <p class="mb-4">
                                    <i class="text-muted">
                                        Note: Please type it in English and complete according to your current data
                                    </i>
                                </p>
                                <div id="sectionOrganization" class="row mb-3 form-group" style="margin-left: 1px;">
                                </div>
                                <div class="row mt-3">
                                    <div class="form-group col-md-12 col-12">
                                        <a id="btnAddSectionOrganization" class="btn btn-outline-primary p-2"
                                            href="autoSave()">
                                            <span class="fa fa-plus"> Tambah Data</span>
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <div class="card-body border">
                                <h2 class="section-title">Pengalaman Lain<b class="text-danger"></b></h2>
                                <p class="mb-4">
                                    <i class="text-muted">
                                        Note: Please type it in English and complete according to your current data
                                    </i>
                                </p>
                                <div id="sectionExperience" class="row mb-3 form-group" style="margin-left: 1px;">
                                </div>
                                <div class="row mt-3">
                                    <div class="form-group col-md-12 col-12">
                                        <a id="btnAddSectionExperience" class="btn btn-outline-primary p-2"
                                            href="autoSave()">
                                            <span class="fa fa-plus"> Tambah Data</span>
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <div class="card-body border">
                                <h2 class="section-title">Penghargaan/Prestasi</h2>
                                <p class="mb-4">
                                    <i>
                                        Note: Please type it in English and complete according to your current data
                                    </i>
                                </p>
                                <div id="sectionAward" class="row mb-3 form-group" style="margin-left: 1px;">
                                </div>
                                <div class="row mt-3">
                                    <div class="form-group col-md-12 col-12">
                                        <a id="btnAddSectionAward" class="btn btn-outline-primary p-2"
                                            href="autoSave()">
                                            <span class="fa fa-plus"> Tambah Data</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer">
                                <a class="btn btn-outline-primary float-left" th:href="@{/talent-mitra}">
                                    <i class="fa fa-arrow-left"></i> Kembali
                                </a>
                                <div class="float-right">
                                    <button id="selectCvButton" class="btn btn-info selectCvButton"><i
                                            class="fa fa-search"></i> Preview CV
                                    </button>&nbsp;
                                    <button id="btnSave" class="btn btn-primary " href="javascript:void(0)"><i
                                            class="fa fa-save"></i> Simpan Perubahan
                                    </button>


                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- <div class="col-12 col-md-12 col-lg-4 bg-secondary" style="z-index: 999;">
                    <div class="p-2 mx-2 bg-secondary" style="height: 90%; width: 90%;">                        
                        <div th:replace="user/preview :: preview"></div>
                        <div class="row ml-4 my-3 justify-content-center" id="action-button">                            
                            <div class="form-group">
                                <button id="btnPreview" class="btn btn-primary mt-3" data-toggle="modal"
                                    data-target="#modalPreview"><i class="fa fa-search-plus"></i>
                                    Preview CV
                                </button>
                            </div>
                            <div class="form-group" id="downloadMitra">                           
                                <button id="btnDownloadCv" class="btn btn-primary" data-toggle="modal" data-target="#modalDownload">
                                    <i class="fa fa-file-download"></i> Download CV
                                </button>
                                <button id="btnShare" class="btn btn-primary" data-toggle="modal"
                                    data-target="#modalShare"><i class="fa fa-share" data-toggle="tooltip"
                                        data-placement="top" title="Bagikan"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div> -->
            </div>
        </div>
    </section>
    <!-- Modal -->
    <div class="modal fade" id="cvPreviewModal" tabindex="-1" role="dialog" aria-labelledby="cvPreviewModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" style="max-width: 60%;" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cvPreviewModalLabel">Preview CV</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- Content for the modal goes here -->
                    <div th:replace="user/preview :: preview"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    </div>

    <div th:replace="user/component/modal-preview :: modal-preview"></div>
    <div th:replace="user/component/modal-share :: modal-share"></div>
    <div th:replace="user/component/modal-profile-picture :: modal-profile-picture"></div>
    <div th:replace="user/component/modal-download :: modal-download"></div>

    <!-- General JS Scripts -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"
        integrity="sha512-uto9mlQzrs59VwILcLiRYeLKPPbS/bT71da/OEBYEwcdNUk8jYIy+D176RYoop1Da+f9mvkYrmj5MCLZWEtQuA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js"
        integrity="sha512-Zq9o+E00xhhR/7vJ49mxFNJ0KQw1E1TMWkPTxrWcnpfEFDEXgUiwJHIKit93EW/XxE31HSI5GEOW06G6BF1AtA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/intro.js@4.3.0/minified/intro.min.js"></script>

    <!-- Template JS File -->
    <script th:src="@{/js/mitra/stisla.js}"></script>
    <script th:src="@{/js/mitra/custom.js}"></script>

    <!--Inline JS-->
    <script th:inline="javascript">

        $(document).ready(function () {
            $('#selectCvButton').click(function (event) {
                event.preventDefault();
                $('#cvPreviewModal').modal('show');
            });
            displayData(`/api/references/get-by-group_1/nationality`, 'selectNationality')
            displayData(`/api/references/get-by-group_1/provinsi`, 'selectProvinsi')

            $('#selectProvinsi').on('change', function(){
                var selectedProvId = $(this).val();
                // console.log('Selected Prov_Id:', selectedProvId);

                displayData(`/api/references/get-by-group_2/${selectedProvId}`, 'selectKota')
                // $('#selectProvinsi option').each(function() {                    
                //     console.log($(this).prop('outerHTML'));
                // });
            }) 
                        
        });
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, '\\$&');
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }
        /*<![CDATA[*/
        let baseUrl = /*[[${ baseUrl }]]*/ 'baseUrl';
        let idUser = /*[[${ idUser }]]*/ 'idUser';
        let fullname = /*[[${ fullname }]]*/ 'fullname';
        let hhId = /*[[${ hhId }]]*/ 'hhId';
        let hhUserId = /*[[${ hhUserId }]]*/ 'hhUserId';
        hhUserId = getParameterByName('talentId');
        if (hhUserId == null || hhUserId == undefined || hhUserId == "") {
            if (sessionStorage.getItem('user')) {
                let getHUser = sessionStorage.getItem('user');
                hhUserId = atob(getHUser);
            }
            if (sessionStorage.getItem('idUser')) {
                let getIdUser = sessionStorage.getItem('idUser');
                idUser = atob(getIdUser);
            }
            if (sessionStorage.getItem('fullname')) {
                let getNameUser = sessionStorage.getItem('fullname');
                fullname = atob(getNameUser);
            }
        }

        let languageLevels = /*[[${ languageLevels }]]*/ 'languageLevels';
        let skillLevels = /*[[${ skillLevels }]]*/ 'skillLevels';
        let skillCategories = /*[[${ skillCategories }]]*/ 'skillCategories';
        let degrees = /*[[${ degrees }]]*/ 'degrees';
        sessionStorage.clear()

        function displayData(url, selectId) {
            // let url = `/api/references/get-by-group_1/nationality`;            

            $.ajax({
                type: "GET",
                url: url,
                dataType: "json",
                success: function(response) {
                    var data = response; // Ambil data dari respons API
                    var select = $("#" + selectId);

                    // console.log(data);
                    select.find('option:not([value=""])').remove();
                    // select.empty().append('<option value="" disabled selected>-- Pilih --</option>');

                    data.forEach(function(reference) {
                        // console.log("Reference object:", reference);
                        // console.log("Reference ID:", reference.id);
                        // console.log("Reference Name:", reference.reference_name);
                        var option = $("<option></option>")
                            .attr("value", reference.id) // Sesuaikan nama properti id
                            .text(reference.reference_name); // Sesuaikan nama properti name
                        select.append(option);                       
                    });
                },
                error: function(error) {
                    console.error('Error fetching data:', error);
                }
            });
        }
        /*]]>*/

        // Upload foto dan validasi
        const handleProfilePictureChange = (event) => {
            const file = event.target.files[0];
            const previewImage = document.getElementById('profilePicturePreview');

            if (file) {
                if (file.size <= 500 * 1024) { // Validasi ukuran file max 500KB
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        previewImage.src = e.target.result; // Update gambar preview
                        validatePhotoRequire($(previewImage));
                    };
                    reader.readAsDataURL(file);
                } else {
                    iziToast.error({
                        title: "Gagal",
                        message: "File melebihi batas maksimal upload, <b>batas maksimal 500KB</b>",
                        position: "topCenter",
                    });
                    event.target.value = ''; // Reset input file
                }
            } else {
                iziToast.error({
                    title: "Gagal",
                    message: "Tidak ada file yang dipilih.",
                    position: "topCenter",
                });
            }
        };
    </script>


    <!--Section JS-->
    <script th:inline="javascript" th:src="@{/css/assets/croppie/croppie.min.js}"></script>
    <script th:inline="javascript" th:src="@{/js/mitra/app/ajaxRequest.js}"></script>
    <script th:inline="javascript" th:src="@{/js/mitra/app/autocomplete.js}"></script>
    <script th:inline="javascript" th:src="@{/js/mitra/mitra/app.js}"></script>
    <script th:inline="javascript" th:src="@{/js/mitra/mitra/data.js}"></script>
    <script th:inline="javascript" th:src="@{/js/mitra/app/section-personal.js}"></script>
    <script th:inline="javascript" th:src="@{/js/mitra/app/section-language.js}"></script>
    <script th:inline="javascript" th:src="@{/js/mitra/app/section-education.js}"></script>
    <script th:inline="javascript" th:src="@{/js/mitra/app/section-skill.js}"></script>
    <script th:inline="javascript" th:src="@{/js/mitra/app/section-work.js}"></script>
    <script th:inline="javascript" th:src="@{/js/mitra/app/section-project.js}"></script>
    <script th:inline="javascript" th:src="@{/js/mitra/app/section-certification.js}"></script>
    <script th:inline="javascript" th:src="@{/js/mitra/app/section-training.js}"></script>
    <script th:inline="javascript" th:src="@{/js/mitra/app/section-organization.js}"></script>
    <script th:inline="javascript" th:src="@{/js/mitra/app/section-experience.js}"></script>
    <script th:inline="javascript" th:src="@{/js/mitra/app/section-award.js}"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
</body>

</html>